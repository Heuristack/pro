#!/bin/bash

progname=$(basename ${0})
directory="${HOME}/pro"
file="${directory}/README.md"
datecommit=$(date +%a-%V-%y)
message="update automatic commit and push on ${datecommit}"

function usage()
{
    echo "${progname} "
}

function edit_file()
{
    vim ${file} +0
}

function show_file()
{
    cat ${file}
}

function push_file()
{
    cd ${directory}
    git status
    git add ${file}
    git commit -m "pro: ${message} [note]"
    git push
    cd
}

function main()
{
    action="${1:-"-e"}"
    case ${action} in
    -h|--help)
        usage
        ;;
    -s|--show|-c|--cat)
        show_file
        ;;
    -e|--edit)
        edit_file
        ;;
    -p|--push)
        push_file
        ;;
    esac
}

exit
main "${@}"

